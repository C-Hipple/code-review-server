# Code Review Server Sample Configuration
# Copy this to ~/.config/codereviewserver.toml

# List of repositories to monitor
# Currently these are all matched to the workflow owner.
Repos = ["google/go-github", "pelletier/go-toml"]

# General Settings
JiraDomain = "your-domain.atlassian.net"
SleepDuration = 10 # Time to wait between updates (in minutes)
GithubUsername = "your-github-username"
RepoLocation = "~/" # Base directory where repos are cloned
AutoWorktree = false # Automatically manage worktrees for PRs
[SectionPriority]
"My Open PRs" = 10
"Needs My Team's Review" = 20
"Closed PRs" = 100


# Workflows define how PRs are gathered and displayed
[[Workflows]]
WorkflowType = "SyncReviewRequestsWorkflow"
Name = "My Open PRs"
Filters = ["FilterNotDraft"]
SectionTitle = "My Pull Requests"
IncludeDiff = true

[[Workflows]]
WorkflowType = "SingleRepoSyncReviewRequestsWorkflow"
Name = "Team Reviews"
Owner = "my-org"
Repo = "my-org/main-repo"
Teams = ["my-team", "my-other-team"]
SectionTitle = "Needs My Team's Review"

# Plugins allow extending the server with custom checks
[[Plugins]]
Name = "Security Check"
Command = "security_check"  # Discover able on path with go install ./...
IncludeDiff = true
IncludeHeaders = true
IncludeComments = false

[[Plugins]]
Name = "Summarize"
Command = "summarize_diff"
IncludeDiff = true
IncludeHeaders = true
IncludeComments = true
